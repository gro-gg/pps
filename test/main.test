#!/bin/bash

# mock functions
__pps_init_config() {
    :
}
__pps_switch-profile() {
    echo "__pps_switch-profile"
}
__pps_switch_task() {
    echo "__pps_switch_task"
}
__pps_disable-profile() {
    echo "__pps_disable-profile"
}
__pps_print_usage() {
    echo "__pps_print_usage"
}


# should print usage
pps | assertEcho "__pps_print_usage" "should print usage"



# should switch profile
_pps_config=/etc
pps hostname | assertEcho "__pps_switch-profile" "should switch profile"


# should disable profile
pps clean | assertEcho "__pps_disable-profile" "should disable profile"
pps clear | assertEcho "__pps_disable-profile" "should disable profile"
pps disable | assertEcho "__pps_disable-profile" "should disable profile"


# should print unknown profile 
__pps_print_usage() {
    :
}
pps nonexisting | assertEcho "Unknown profile: nonexisting" "should print unknown profile"
__pps_print_usage() {
    echo "__pps_print_usage"
}


# should switch task
pps task 1234 | assertEcho "__pps_switch_task" "should switch task"

__pps_switch_task() {
    echo "$1"
}
pps task my-task | assertEcho "my-task" "should switch task to my-task"

pps task | assertEcho "__pps_print_usage" "should not switch task"


